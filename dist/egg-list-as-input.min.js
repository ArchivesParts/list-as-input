"use strict";angular.module("eggListInputApp",["ngAnimate","ngCookies","ngResource","ngSanitize","ngTouch"]),angular.module("eggListInputApp").directive("eggListAsInput",function(){function a(a){var b=this;b.entry="",b.pattern="^.*$",b.name="li-"+Math.floor(999999999*Math.random()),b.validList=[],b.model=void 0,b.isValid=function(a){a=a||!1;var c=!1;return b.values?a||0!==b.entry.length?angular.forEach(b.values,function(a){c=c||b.entry===a}):c=!0:c=!a&&0===b.entry.length||b.pattern.test(b.entry),c},b.restoreEntry=function(a){b.entry=b.validList[a],b.refreshModel()},b.removeEntry=function(a){b.validList.splice(a,1),b.refreshModel()},b.refreshModel=function(){a.ngModel=b.validList.join(b.endKey)}}function b(a,b,c,d){var e=c.eggListAsInput,f=e.match(/match='([^']*)'|match="([^"]*)"/i),g=e.match(/end-with='([^']*)'|end-with="([^"]*)"/i),h=f&&(f[1]||f[2])||c.eggPattern,i=g&&(g[1]||g[2])||c.eggEndWith;d.pattern=new RegExp(h||d.pattern,"i"),d.endKey=i||";",d.input=b,d.values=a.eggValues,d.name=c.name||d.name,d.placeholder=c.placeholder,d.label=c.label;var j=d.endKey.charCodeAt(0);d.entry="";var k=a.ngModel.split(d.endKey);k.forEach(function(a){d.entry=a.trim(),d.isValid(!0)?(d.validList.push(a),d.entry=""):d.entry=a}),d.refreshModel(),b.bind("keypress",function(b){return 13!==b.which&&b.which!==j||!d.isValid(!0)?void 0:(a.$apply(function(){d.validList.push(d.entry),d.entry="",d.refreshModel()}),void b.preventDefault())})}return{templateUrl:"views/directive.html",restrict:"AE",scope:{ngModel:"=",eggValues:"=?"},link:b,replace:!0,controller:a,controllerAs:"ctl"}});